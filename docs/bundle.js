!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=31)}([function(t,e,n){"use strict";n.r(e),n.d(e,"h",function(){return s}),n.d(e,"createElement",function(){return s}),n.d(e,"cloneElement",function(){return l}),n.d(e,"Component",function(){return j}),n.d(e,"render",function(){return L}),n.d(e,"rerender",function(){return f}),n.d(e,"options",function(){return r});var r={},o=[],a=[];function s(t,e){var n,s,i,c,l=a;for(c=arguments.length;c-- >2;)o.push(arguments[c]);for(e&&null!=e.children&&(o.length||o.push(e.children),delete e.children);o.length;)if((s=o.pop())&&void 0!==s.pop)for(c=s.length;c--;)o.push(s[c]);else"boolean"==typeof s&&(s=null),(i="function"!=typeof t)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(i=!1)),i&&n?l[l.length-1]+=s:l===a?l=[s]:l.push(s),n=i;var u=new function(){};return u.nodeName=t,u.children=l,u.attributes=null==e?void 0:e,u.key=null==e?void 0:e.key,void 0!==r.vnode&&r.vnode(u),u}function i(t,e){for(var n in e)t[n]=e[n];return t}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(t,e){return s(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function p(t){!t._dirty&&(t._dirty=!0)&&1==d.push(t)&&(r.debounceRendering||c)(f)}function f(){var t,e=d;for(d=[];t=e.pop();)t._dirty&&P(t)}function h(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&m(t,e.nodeName):n||t._componentConstructor===e.nodeName}function m(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function y(t){var e=i({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function v(t){var e=t.parentNode;e&&e.removeChild(t)}function _(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"==typeof r[a]&&!1===u.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,b,s):t.removeEventListener(e,b,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t)!function(t,e,n){try{t[e]=n}catch(t){}}(t,e,null==r?"":r),null!=r&&!1!==r||t.removeAttribute(e);else{var i=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?i?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(i?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function b(t){return this._listeners[t.type](r.event&&r.event(t)||t)}var g=[],w=0,x=!1,E=!1;function I(){for(var t;t=g.pop();)r.afterMount&&r.afterMount(t),t.componentDidMount&&t.componentDidMount()}function M(t,e,n,r,o,a){w++||(x=null!=o&&void 0!==o.ownerSVGElement,E=null!=t&&!("__preactattr_"in t));var s=N(t,e,n,r,a);return o&&s.parentNode!==o&&o.appendChild(s),--w||(E=!1,a||I()),s}function N(t,e,n,r,o){var a=t,s=x;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(a=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(a,t),T(t,!0))),a.__preactattr_=!0,a;var i=e.nodeName;if("function"==typeof i)return function(t,e,n,r){var o=t&&t._component,a=o,s=t,i=o&&t._componentConstructor===e.nodeName,c=i,l=y(e);for(;o&&!c&&(o=o._parentComponent);)c=o.constructor===e.nodeName;o&&c&&(!r||o._component)?(O(o,l,3,n,r),t=o.base):(a&&!i&&(z(a),t=s=null),o=A(e.nodeName,l,n),t&&!o.nextBase&&(o.nextBase=t,s=null),O(o,l,1,n,r),t=o.base,s&&t!==s&&(s._component=null,T(s,!1)));return t}(t,e,n,r);if(x="svg"===i||"foreignObject"!==i&&x,i=String(i),(!t||!m(t,i))&&(a=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(i,x),t)){for(;t.firstChild;)a.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(a,t),T(t,!0)}var c=a.firstChild,l=a.__preactattr_,u=e.children;if(null==l){l=a.__preactattr_={};for(var d=a.attributes,p=d.length;p--;)l[d[p].name]=d[p].value}return!E&&u&&1===u.length&&"string"==typeof u[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=u[0]&&(c.nodeValue=u[0]):(u&&u.length||null!=c)&&function(t,e,n,r,o){var a,s,i,c,l,u=t.childNodes,d=[],p={},f=0,m=0,y=u.length,_=0,b=e?e.length:0;if(0!==y)for(var g=0;g<y;g++){var w=u[g],x=w.__preactattr_,E=b&&x?w._component?w._component.__key:x.key:null;null!=E?(f++,p[E]=w):(x||(void 0!==w.splitText?!o||w.nodeValue.trim():o))&&(d[_++]=w)}if(0!==b)for(var g=0;g<b;g++){c=e[g],l=null;var E=c.key;if(null!=E)f&&void 0!==p[E]&&(l=p[E],p[E]=void 0,f--);else if(!l&&m<_)for(a=m;a<_;a++)if(void 0!==d[a]&&h(s=d[a],c,o)){l=s,d[a]=void 0,a===_-1&&_--,a===m&&m++;break}l=N(l,c,n,r),i=u[g],l&&l!==t&&l!==i&&(null==i?t.appendChild(l):l===i.nextSibling?v(i):t.insertBefore(l,i))}if(f)for(var g in p)void 0!==p[g]&&T(p[g],!1);for(;m<=_;)void 0!==(l=d[_--])&&T(l,!1)}(a,u,n,r,E||null!=l.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||_(t,r,n[r],n[r]=void 0,x);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||_(t,r,n[r],n[r]=e[r],x)}(a,e.attributes,l),x=s,a}function T(t,e){var n=t._component;n?z(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||v(t),S(t))}function S(t){for(t=t.lastChild;t;){var e=t.previousSibling;T(t,!0),t=e}}var C={};function A(t,e,n){var r,o=C[t.name];if(t.prototype&&t.prototype.render?(r=new t(e,n),j.call(r,e,n)):((r=new j(e,n)).constructor=t,r.render=B),o)for(var a=o.length;a--;)if(o[a].constructor===t){r.nextBase=o[a].nextBase,o.splice(a,1);break}return r}function B(t,e,n){return this.constructor(t,n)}function O(t,e,n,o,a){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||a?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o),o&&o!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=o),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&t.base?p(t):P(t,1,a)),t.__ref&&t.__ref(t))}function P(t,e,n,o){if(!t._disable){var a,s,c,l=t.props,u=t.state,d=t.context,p=t.prevProps||l,f=t.prevState||u,h=t.prevContext||d,m=t.base,v=t.nextBase,_=m||v,b=t._component,x=!1;if(m&&(t.props=p,t.state=f,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,u,d)?x=!0:t.componentWillUpdate&&t.componentWillUpdate(l,u,d),t.props=l,t.state=u,t.context=d),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!x){a=t.render(l,u,d),t.getChildContext&&(d=i(i({},d),t.getChildContext()));var E,N,S=a&&a.nodeName;if("function"==typeof S){var C=y(a);(s=b)&&s.constructor===S&&C.key==s.__key?O(s,C,1,d,!1):(E=s,t._component=s=A(S,C,d),s.nextBase=s.nextBase||v,s._parentComponent=t,O(s,C,0,d,!1),P(s,1,n,!0)),N=s.base}else c=_,(E=b)&&(c=t._component=null),(_||1===e)&&(c&&(c._component=null),N=M(c,a,d,n||!m,_&&_.parentNode,!0));if(_&&N!==_&&s!==b){var B=_.parentNode;B&&N!==B&&(B.replaceChild(N,_),E||(_._component=null,T(_,!1)))}if(E&&z(E),t.base=N,N&&!o){for(var j=t,L=t;L=L._parentComponent;)(j=L).base=N;N._component=j,N._componentConstructor=j.constructor}}if(!m||n?g.unshift(t):x||(t.componentDidUpdate&&t.componentDidUpdate(p,f,h),r.afterUpdate&&r.afterUpdate(t)),null!=t._renderCallbacks)for(;t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);w||o||I()}}function z(t){r.beforeUnmount&&r.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?z(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,v(e),function(t){var e=t.constructor.name;(C[e]||(C[e]=[])).push(t)}(t),S(e)),t.__ref&&t.__ref(null)}function j(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{}}function L(t,e,n){return M(n,t,{},!1,e,!1)}i(j.prototype,{setState:function(t,e){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,"function"==typeof t?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),p(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),P(this,2)},render:function(){}});var k={h:s,createElement:s,cloneElement:l,Component:j,render:L,rerender:f,options:r};e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TIMELINE_VIEWBOX_WIDTH=1e3,e.TIMELINE_VIEWBOX_HEIGHT=300,e.TIMELINE_PADDING_X=200,e.TIMELINE_BASELINE_Y_OFFSET=50},function(t,e,n){"use strict";const r=n(19),o=n(18);function a(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function s(t,e){return e.decode?o(t):t}function i(t){const e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,arrayFormat:"none"},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){let[t,a]=o.replace(/\+/g," ").split("=");a=void 0===a?null:s(a,e),n(s(t,e),a,r)}return Object.keys(r).sort().reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=i,e.parse=c,e.stringify=((t,e)=>{!1===(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=(()=>{}));const n=function(t){switch(t.arrayFormat){case"index":return(e,n,r)=>null===n?[a(e,t),"[",r,"]"].join(""):[a(e,t),"[",a(r,t),"]=",a(n,t)].join("");case"bracket":return(e,n)=>null===n?[a(e,t),"[]"].join(""):[a(e,t),"[]=",a(n,t)].join("");default:return(e,n)=>null===n?a(e,t):[a(e,t),"=",a(n,t)].join("")}}(e);return t?Object.keys(t).sort(e.sort).map(r=>{const o=t[r];if(void 0===o)return"";if(null===o)return a(r,e);if(Array.isArray(o)){const t=[];for(const e of o.slice())void 0!==e&&t.push(n(r,e,t.length));return t.join("&")}return a(r,e)+"="+a(o,e)}).filter(t=>t.length>0).join("&"):""}),e.parseUrl=((t,e)=>({url:t.split("?")[0]||"",query:c(i(t),e)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),o=n(17),a="https://l1zp6t6k1j.execute-api.eu-west-1.amazonaws.com/dev";e.default=class{static async getNextAction(t){const e=r.stringify(t),n=`${a}/next_action?${e}`;return o.get(n)}static async putS3(t,e){console.log(`Setting in S3: ${t}:${e?e.toString():""}`);try{const t=await o.get(`${a}/camera/`);console.log(`bucketURL: ${JSON.stringify(t)}`);const n=await o.put(t.uploadUrl,e||{},!1,{"Content-Type":"image/png","x-amz-acl":"public-read"});return console.log(n),Boolean(n)}catch(t){return!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.default=class extends r.Component{render(){return r.h("div",null)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=async function(t){return new Promise(e=>setTimeout(e,t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6);async function o(){return new Promise(t=>window.requestAnimationFrame(t))}e.removeHash=function(){const[t]=window.location.toString().split("#");window.history.replaceState({},document.title,t)},e.nextFrame=o,e.limitFramerate=async function(t){await Promise.all([o(),r.delay(t)])}},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);n(9);const o=n(1),a=`translate(\n    -40\n    ${.5*(o.TIMELINE_VIEWBOX_HEIGHT-150+2*o.TIMELINE_BASELINE_Y_OFFSET)-314.5*.2})\n    scale(-0.2,0.2)`;e.default=(t=>r.h("g",{class:"bmw-svg",transform:a},r.h("g",{transform:`translate(${5*-t.x} 0)`},r.h("path",{d:"M714.39 307.93c5.25-.36 4.31-27.63 4.31-27.63l-5.94-1.7-38 4.69a3.61 3.61 0 0 0-3.16 3.67l.07 2.76a6.51 6.51 0 0 0 4.64 6.08l36 10.88z",strokeMiterlimit:"10",stroke:"#252626",fill:"#801811"}),r.h("path",{d:"M15 311.27s16.12-22.91 130.22-34.36l64.47-6.37s4.67 3 21.21 4.67c0 0 68.72-45.39 87-50.9 0 0 11-3.39 3.39-5.09 0 0 16.54-13.15 84.83-13.57s97.14 3 97.14 3 3.26-8.16 24.19-4.48a2.26 2.26 0 0 1 1.7 1.38c1 2.36 3.4 7.63 6.34 8.61 3.82 1.27 10.18 2.55 10.18 2.55s-2.12 4.24 1.28 5.09 73 27.14 91.62 36c0 0 7.21 3 10.6.42l44.54 7.21 18.62 1.73a8.6 8.6 0 0 1 6.54 4.06 5.75 5.75 0 0 1 .76 4l-.89 5.07-2.14-.78a11.36 11.36 0 0 0-5.2-.6l-36.14 4.25a4.49 4.49 0 0 0-3.94 5l.24 2.12a6.8 6.8 0 0 0 4.82 5.73l36 10.68a5 5 0 0 1 3.34 3.35l.87 3a10.59 10.59 0 0 0 1.48 3.11l7.38 10.63a14.65 14.65 0 0 1 2.57 7.1l.72 8.43a2 2 0 0 1-1.69 2.11c-1.34.16-3.26 1.22-5.31 5.08a106 106 0 0 0-9.75 29.69l-71.66 13.33a1 1 0 0 1-1.23-1c0-.82.05-2 0-3.51-.18-16.38-5.28-69-63.3-69 0 0-61.67-1.84-59.15 75.21 0 1.35.11 2.72.19 4.11l-94.16.42-243.48 1.7s.29-2.52.36-6.68c.32-18.91-5.24-75-61.24-76.4 0 0-69-2.9-60.23 77.56.18 1.66.4 3.36.65 5.1l-21.63-1.28s-17.82-1.27-31-8.9L5.67 383l1.69-39.5 4.25-5.5 4.24-8.49a8.73 8.73 0 0 0 8.06 4.25s26.29-4.68 44.09-17.4L63.78 310l-22.48-1.7-22.48 5.09s-6.37 1.27-3.82-2.12z",fill:"#fff",strokeMiterlimit:"10",stroke:"#252626"}),r.h("path",{className:"cls-4",d:"M179.58 385.92l44.53-.43 170.52-3 91.29-3.1a17 17 0 0 0 13.64-7.68L566 270.12m-163.32 4.7s-17.91 16.66-8.05 107.71"}),r.h("path",{className:"cls-4",d:"M224.11 385.49c-4.55-53-2.51-76.44-.39-86.52a20 20 0 0 1 5.79-10.33l7.75-6.22m83.99-63.2s-33.4 12.62-94.48 51.22l-15.06.95"}),r.h("path",{d:"M11.61 337.7s-.22-16.77.21-20.34 2.12-4.61 2.12-4.61 3 1.75 4.88.63c0 0-1.49 1.26-3 15.94z",fill:"#4e4d4d",strokeMiterlimit:"10",stroke:"#252626"}),r.h("path",{className:"cls-6",d:"M23.27 356.44c-2.27-1.51-6-.79-9.61.42l2.4 25c10.18 4.45 14.21 3.6 14.21 3.6-1.7-20.33-3.18-26.46-7-29.02z"}),r.h("path",{className:"cls-4",d:"M7.36 343.5l.85 15.5s3-1.29 5.45-2.12"}),r.h("path",{className:"cls-7",d:"M26.59 360.89c-2.12 0-17.32-.42-17.32-.42l.64-2.33s9.19-3.61 12.44-2.13a8.46 8.46 0 0 1 4.24 4.88"}),r.h("path",{className:"cls-4",d:"M5.88 387.83c0-.64 1.06-11.88 9.33-10.61m-9.12 12.52l20.79-.22s3.6.22 3.39-4"}),r.h("path",{d:"M58 394.82c-8.77-80.46 60.23-77.56 60.23-77.56 56 1.43 61.56 57.49 61.24 76.4l-19.45 8.17-88.22-4.67s-9.33-1.49-13.36.42zm458.6-.71c-2.52-77.05 59.15-75.21 59.15-75.21 58 0 63.12 52.62 63.3 69v3.51l-3.74-2.52-12.9-.89-90.91 8.2-6.65-1.84z",fill:"#010202",stroke:"#252626",strokeMiterlimit:"10"}),r.h("path",{className:"cls-7",d:"M183.37 353.44l20.11 23.7a5.51 5.51 0 0 0 4.3 1.94l10.82-.23-22.5-22.51a14.88 14.88 0 0 0-11.21-4.34h-.91a.85.85 0 0 0-.61 1.44z"}),r.h("path",{className:"cls-4",d:"M545.63 216.68s61.51 20.36 103.5 41.56"}),r.h("circle",{className:"cls-9",cx:"576.6",cy:"374.59",r:"4"}),r.h("circle",{className:"cls-7",cx:"576.6",cy:"374.59",r:"51.23"}),r.h("circle",{className:"cls-7",cx:"576.6",cy:"374.59",r:"40.72"}),r.h("path",{className:"cls-10",d:"M576.6 333.86a40.73 40.73 0 1 0 40.72 40.73 40.73 40.73 0 0 0-40.72-40.73zm37 27.75l.51 1.54a.71.71 0 0 1-.41.88l-5.61 2.14c-1.86.81-4.06 1.66-6.47 2.46-7 2.34-13 3.36-13.38 2.28s5-3.87 12.08-6.21c2.4-.8 4.67-1.44 6.65-1.9l5.77-1.64a.69.69 0 0 1 .87.45zm-10.34-15.23l1.74 1.78a48.29 48.29 0 0 1 5.67 7.88l1.13 2.21a.5.5 0 0 1-.31.73c-2.84.66-14.46 3.53-21.3 7.66-7.88 4.75-7.19 3.36-7.19 3.36s-1.58.21 5.44-5.76c6.08-5.17 12.51-15.28 14-17.76a.48.48 0 0 1 .83-.1zm-4.42-4l1.31 1a.71.71 0 0 1 .17 1l-3.34 5c-1 1.74-2.35 3.71-3.85 5.75-4.38 6-8.67 10.27-9.6 9.6s1.88-6.07 6.26-12.05c1.5-2 3-3.88 4.33-5.39l3.76-4.69a.7.7 0 0 1 .97-.19zm-18.91 16.77c1.81-7.79 1-19.73.71-22.63a.5.5 0 0 1 .6-.52l2.45.4a47.69 47.69 0 0 1 9.25 3l2.23 1.1a.5.5 0 0 1 .18.77c-1.89 2.22-9.52 11.44-12.57 18.83-1 2.41-1.73 4-2.27 5.07a2.38 2.38 0 1 1-1.69-.44c.18-1.19.51-2.94 1.12-5.55zm.66 15.41a4 4 0 1 1-4-4 4 4 0 0 1 4.01 4.03zm-5.77-32.91l.26-6a.69.69 0 0 1 .7-.67h1.62a.69.69 0 0 1 .7.67l.26 6c.19 2 .3 4.38.3 6.91 0 7.41-.93 13.42-2.07 13.42s-2.07-6-2.07-13.42c.01-2.5.12-4.86.31-6.88zM558 340.49l2.23-1.1a47.38 47.38 0 0 1 9.24-3l2.46-.4a.49.49 0 0 1 .59.52c-.25 2.9-1.1 14.84.72 22.63 2.08 9 .94 7.86.94 7.86s-.29 1.56-3.8-7c-3-7.39-10.68-16.61-12.56-18.83a.49.49 0 0 1 .18-.68zm-5 2.88l1.31-1a.7.7 0 0 1 1 .13l3.76 4.69c1.34 1.51 2.83 3.35 4.32 5.39 4.38 6 7.19 11.37 6.26 12.05s-5.22-3.62-9.6-9.6c-1.49-2-2.8-4-3.84-5.75l-3.34-5a.71.71 0 0 1 .13-.91zm-11.68 14.88l1.13-2.21a48.29 48.29 0 0 1 5.67-7.88l1.74-1.78a.49.49 0 0 1 .79.06c1.53 2.48 7.95 12.59 14 17.76 2 1.68 3.27 2.88 4.11 3.72a2.45 2.45 0 0 1 .77-.4 2.38 2.38 0 1 1-1.61 3 2.21 2.21 0 0 1-.06-1.05c-1.07-.52-2.64-1.39-5-2.78-6.84-4.13-18.46-7-21.3-7.66a.5.5 0 0 1-.2-.78zm-2.29 4.9l.52-1.54a.69.69 0 0 1 .86-.45l5.77 1.64c2 .46 4.25 1.1 6.65 1.9 7 2.34 12.44 5.12 12.08 6.21s-6.36.06-13.39-2.28c-2.4-.8-4.6-1.65-6.46-2.46l-5.57-2.17a.71.71 0 0 1-.42-.85zm-.6 18.82l-.38-2.46a47.64 47.64 0 0 1 0-9.7l.37-2.46a.49.49 0 0 1 .67-.41c2.7 1.11 13.82 5.55 21.78 6.18 9.18.73 7.78 1.48 7.78 1.48s1.4.75-7.77 1.52c-8 .66-19.07 5.13-21.76 6.26a.49.49 0 0 1-.65-.38zm1.12 5.27l-.52-1.53a.7.7 0 0 1 .42-.88l5.61-2.14c1.86-.82 4.06-1.67 6.46-2.47 7-2.34 13-3.36 13.39-2.27s-5.05 3.86-12.08 6.2c-2.4.8-4.67 1.44-6.65 1.9l-5.77 1.65a.7.7 0 0 1-.82-.46zm10.68 15.9l-1.76-1.75a47.89 47.89 0 0 1-5.77-7.81l-1.16-2.2a.49.49 0 0 1 .3-.73c2.83-.7 14.41-3.72 21.2-7.93 2.25-1.4 3.79-2.27 4.86-2.81a2.1 2.1 0 0 1-.09-.61 2.38 2.38 0 1 1 2.37 2.38 2.32 2.32 0 0 1-1.25-.37c-.83.86-2.12 2.08-4.11 3.82-6 5.25-12.31 15.44-13.8 17.94a.49.49 0 0 1-.75.07zm4.08 3.3l-1.31-1a.71.71 0 0 1-.17-1l3.34-5c1-1.74 2.35-3.71 3.84-5.75 4.38-6 8.68-10.27 9.6-9.59s-1.88 6.06-6.26 12c-1.49 2-3 3.88-4.32 5.4l-3.76 4.68a.69.69 0 0 1-.92.26zM573.25 390c-1.8 7.79-.94 19.73-.69 22.63a.49.49 0 0 1-.59.52l-2.46-.39a48.26 48.26 0 0 1-9.24-2.95L558 408.7a.49.49 0 0 1-.19-.76c1.89-2.23 9.51-11.46 12.55-18.85 3.5-8.51 3.79-6.95 3.79-6.95s1.18-1.14-.9 7.86zm5.12 17.17l-.26 6a.7.7 0 0 1-.7.68h-1.62a.7.7 0 0 1-.7-.68l-.26-6c-.19-2-.3-4.38-.3-6.91 0-7.41.92-13.41 2.07-13.41s2.07 6 2.07 13.41c0 2.53-.11 4.89-.3 6.91zm16.77 1.53l-2.23 1.11a48.58 48.58 0 0 1-9.25 2.95l-2.46.39a.49.49 0 0 1-.59-.52c.25-2.9 1.11-14.84-.69-22.63-.6-2.58-.93-4.32-1.1-5.5a2.4 2.4 0 1 1 1.67-.51c.55 1.06 1.29 2.67 2.29 5.1 3 7.39 10.65 16.62 12.54 18.85a.49.49 0 0 1-.18.76zm5-3.22l-1.31 1a.69.69 0 0 1-1-.13l-3.76-4.68c-1.35-1.52-2.83-3.36-4.33-5.4-4.38-6-7.18-11.37-6.26-12s5.22 3.62 9.6 9.59c1.5 2 2.81 4 3.85 5.75l3.34 5a.71.71 0 0 1-.11.87zm11.43-14.1l-1.16 2.2a47.31 47.31 0 0 1-5.77 7.81l-1.76 1.75a.48.48 0 0 1-.78-.07c-1.5-2.5-7.79-12.69-13.81-17.94-6.94-6.06-5.36-5.83-5.36-5.83s-.68-1.44 7.14 3.42c6.79 4.21 18.37 7.23 21.2 7.93a.49.49 0 0 1 .32.73zm2.53-5.67l-.51 1.53a.71.71 0 0 1-.86.46l-5.73-1.65c-2-.46-4.25-1.1-6.65-1.9-7-2.34-12.44-5.12-12.08-6.2s6.35-.07 13.38 2.27c2.41.8 4.61 1.65 6.47 2.47l5.61 2.14a.7.7 0 0 1 .39.88zm.58-3.74a.49.49 0 0 1-.67.41c-2.69-1.13-13.79-5.6-21.76-6.26-2.63-.22-4.39-.44-5.57-.64a2.38 2.38 0 1 1 0-1.75c1.18-.2 2.93-.4 5.53-.61 8-.63 19.09-5.07 21.78-6.18a.49.49 0 0 1 .67.41l.37 2.46a46.94 46.94 0 0 1 0 9.7z"}),r.h("path",{d:"M239.8 281.53c6.95-5.36 22.38-16.94 35.53-24.56l35.8-21 .08-.06c.27-.21 27.63-20.65 106.22-20.65 79 0 114.33 11.45 114.68 11.57h.12c10.9 2.68 39.73 11.88 42.11 22.17l.07.31c0 .78-.48 4.95-9.27 19.31l-162.51 4.68z",fill:"#f2f2f1"}),r.h("path",{className:"cls-7",d:"M417.43 216.75c78.64 0 113.86 11.38 114.21 11.49h.23c14.81 3.64 39 12.57 41 21.05v.11c-.07.79-.86 4.92-8.62 17.7l-161.69 4.65h-.07l-158 8c7.85-5.93 20.51-15.13 31.55-21.53l35.71-21 .17-.1.14-.11c.07-.06 6.81-5.14 23.08-10.16 27.25-8.41 59.75-10.18 82.23-10.18m0-3c-80.23 0-107.14 21-107.14 21l-35.71 21c-17.8 10.31-39.44 27.6-39.44 27.6l167.54-8.45 163.38-4.7c11.68-18.93 9.81-21.43 9.81-21.43-3.1-13.46-43.22-23.29-43.22-23.29s-34.93-11.65-115.15-11.65z"}),r.h("circle",{className:"cls-9",cx:"117.44",cy:"374.59",r:"4"}),r.h("circle",{className:"cls-7",cx:"117.44",cy:"374.59",r:"51.23"}),r.h("circle",{className:"cls-7",cx:"117.44",cy:"374.59",r:"40.72"}),r.h("path",{className:"cls-10",d:"M117.44 333.86a40.73 40.73 0 1 0 40.73 40.73 40.73 40.73 0 0 0-40.73-40.73zm37 27.75l.51 1.54a.71.71 0 0 1-.42.88l-5.61 2.14c-1.86.81-4.06 1.66-6.46 2.46-7 2.34-13 3.36-13.38 2.28s5-3.87 12.07-6.21c2.4-.8 4.68-1.44 6.65-1.9l5.77-1.64a.7.7 0 0 1 .89.45zm-10.35-15.23l1.75 1.78a47.64 47.64 0 0 1 5.66 7.88l1.13 2.21a.49.49 0 0 1-.3.73c-2.84.66-14.47 3.53-21.31 7.66-7.89 4.75-7.19 3.32-7.19 3.32s-1.57.21 5.44-5.76c6.09-5.17 12.51-15.28 14-17.76a.48.48 0 0 1 .84-.06zm-4.41-4l1.3 1a.7.7 0 0 1 .17 1l-3.34 5c-1 1.74-2.34 3.71-3.84 5.75-4.38 6-8.68 10.27-9.6 9.6s1.88-6.07 6.26-12.05c1.49-2 3-3.88 4.32-5.39l3.76-4.69a.72.72 0 0 1 .99-.19zm-18.92 16.77c1.81-7.79 1-19.73.72-22.63a.49.49 0 0 1 .59-.52l2.46.4a47.6 47.6 0 0 1 9.24 3l2.23 1.1a.5.5 0 0 1 .18.77c-1.89 2.22-9.52 11.44-12.56 18.83-1 2.41-1.73 4-2.28 5.07a2.37 2.37 0 1 1-1.69-.44c.19-1.19.52-2.94 1.13-5.55zm.66 15.41a4 4 0 1 1-4-4 4 4 0 0 1 4.02 4.03zm-5.77-32.91l.26-6a.71.71 0 0 1 .7-.67h1.62a.71.71 0 0 1 .71.67l.26 6c.18 2 .29 4.38.29 6.91 0 7.41-.92 13.42-2.07 13.42s-2.07-6-2.07-13.42c.02-2.5.13-4.86.32-6.88zm-16.83-1.19l2.23-1.1a47.6 47.6 0 0 1 9.24-3l2.46-.4a.49.49 0 0 1 .59.52c-.24 2.9-1.09 14.84.72 22.63 2.09 9 .94 7.86.94 7.86s-.28 1.56-3.8-7c-3-7.39-10.67-16.61-12.56-18.83a.5.5 0 0 1 .2-.65zm-5 2.88l1.31-1a.72.72 0 0 1 1 .13l3.75 4.69c1.35 1.51 2.83 3.35 4.33 5.39 4.38 6 7.18 11.37 6.26 12.05s-5.22-3.62-9.6-9.6c-1.5-2-2.81-4-3.85-5.75l-3.34-5a.71.71 0 0 1 .2-.88zm-11.61 14.91l1.13-2.25a47.64 47.64 0 0 1 5.66-7.84l1.75-1.78a.48.48 0 0 1 .78.06c1.53 2.48 8 12.59 14 17.76 2 1.68 3.27 2.88 4.11 3.72a2.56 2.56 0 0 1 .77-.4 2.38 2.38 0 1 1-1.61 3 2.5 2.5 0 0 1-.06-1.05c-1.07-.52-2.64-1.39-5-2.78-6.84-4.13-18.47-7-21.31-7.66a.49.49 0 0 1-.22-.78zm-2.29 4.9l.51-1.54a.69.69 0 0 1 .86-.45l5.77 1.64c2 .46 4.25 1.1 6.66 1.9 7 2.34 12.43 5.12 12.07 6.21s-6.35.06-13.38-2.28c-2.4-.8-4.61-1.65-6.47-2.46l-5.6-2.17a.7.7 0 0 1-.42-.85zM79.31 382l-.38-2.46a47.64 47.64 0 0 1 0-9.7l.37-2.46a.48.48 0 0 1 .67-.41c2.69 1.11 13.81 5.55 21.78 6.18 9.18.73 7.78 1.48 7.78 1.48s1.4.75-7.78 1.52c-8 .66-19.06 5.13-21.75 6.26a.5.5 0 0 1-.69-.41zm1.12 5.27l-.51-1.53a.7.7 0 0 1 .42-.88l5.6-2.14c1.86-.82 4.07-1.67 6.47-2.47 7-2.34 13-3.36 13.38-2.27s-5 3.86-12.07 6.2c-2.41.8-4.68 1.44-6.66 1.9l-5.77 1.65a.71.71 0 0 1-.86-.49zm10.69 15.9l-1.77-1.75a48.48 48.48 0 0 1-5.77-7.81l-1.16-2.2a.5.5 0 0 1 .3-.73c2.83-.7 14.42-3.72 21.2-7.93 2.25-1.4 3.8-2.27 4.86-2.81a2.5 2.5 0 0 1-.09-.61 2.4 2.4 0 1 1 1.12 2c-.82.86-2.11 2.08-4.1 3.82-6 5.25-12.31 15.44-13.81 17.94a.48.48 0 0 1-.78.05zm4.07 3.3l-1.31-1a.71.71 0 0 1-.17-1l3.34-5c1-1.74 2.35-3.71 3.85-5.75 4.38-6 8.68-10.27 9.6-9.59s-1.88 6.06-6.26 12c-1.5 2-3 3.88-4.33 5.4l-3.75 4.68a.71.71 0 0 1-.97.23zM114.1 390c-1.81 7.79-.94 19.73-.69 22.63a.5.5 0 0 1-.6.52l-2.45-.39a48.13 48.13 0 0 1-9.25-2.95l-2.23-1.11a.48.48 0 0 1-.18-.76c1.88-2.23 9.5-11.46 12.54-18.85 3.5-8.51 3.79-6.95 3.79-6.95s1.15-1.14-.93 7.86zm5.12 17.17l-.26 6a.71.71 0 0 1-.71.68h-1.62a.71.71 0 0 1-.7-.68l-.26-6c-.19-2-.3-4.38-.3-6.91 0-7.41.93-13.41 2.07-13.41s2.07 6 2.07 13.41c0 2.53-.11 4.89-.29 6.91zM136 408.7l-2.23 1.11a48.13 48.13 0 0 1-9.25 2.95l-2.45.39a.5.5 0 0 1-.6-.52c.25-2.9 1.12-14.84-.69-22.63-.59-2.58-.92-4.32-1.09-5.5a2.39 2.39 0 1 1 1.67-.51c.54 1.06 1.28 2.67 2.28 5.1 3 7.39 10.66 16.62 12.54 18.85a.48.48 0 0 1-.18.76zm5-3.22l-1.3 1a.71.71 0 0 1-1-.13l-3.7-4.72a76.559 76.559 0 0 1-4.32-5.4c-4.38-6-7.19-11.37-6.26-12s5.22 3.62 9.6 9.59c1.5 2 2.8 4 3.84 5.75l3.34 5a.7.7 0 0 1-.2.91zm11.44-14.1l-1.16 2.2a48.48 48.48 0 0 1-5.77 7.81l-1.77 1.75a.48.48 0 0 1-.78-.07c-1.5-2.5-7.79-12.69-13.81-17.94-6.93-6.06-5.36-5.83-5.36-5.83s-.68-1.44 7.15 3.42c6.78 4.21 18.37 7.23 21.2 7.93a.5.5 0 0 1 .3.73zm2.53-5.67l-.51 1.53a.71.71 0 0 1-.87.46l-5.77-1.65c-2-.46-4.25-1.1-6.65-1.9-7-2.34-12.44-5.12-12.07-6.2s6.35-.07 13.38 2.27c2.4.8 4.6 1.65 6.46 2.47l5.61 2.14a.7.7 0 0 1 .45.88zm.58-3.74a.5.5 0 0 1-.68.41c-2.69-1.13-13.79-5.6-21.75-6.26-2.64-.22-4.4-.44-5.57-.64a2.38 2.38 0 1 1 0-1.75c1.17-.2 2.92-.4 5.52-.61 8-.63 19.09-5.07 21.78-6.18a.48.48 0 0 1 .67.41l.37 2.46a47.64 47.64 0 0 1 0 9.7z"}),r.h("path",{className:"cls-4",d:"M605.5 324.93l77.71-12a15.84 15.84 0 0 0 8.56-4.08 13.44 13.44 0 0 0 4-7.07"}),r.h("path",{d:"M18.82 313.38c-1.28.42-3 15.94-3 15.94 1 4.47 8.06 4.43 8.06 4.43C39.46 333 68 316.36 68 316.36L63.78 310l-22.48-1.7z",fill:"#fff",strokeMiterlimit:"10",stroke:"#252626"}),r.h("path",{className:"cls-4",d:"M517.86 371.92l-19.15.68M18.18 318.48c1.27 0 8.91-1.49 8.91-1.49s3.26 2.22 6.19 14.58m-3-15.64s5.29-1.06 6.14-1.06h19.94"}),r.h("path",{className:"cls-7",d:"M272.81 277s-.16 3.26.94 3.21l-33.09 1.55 20.78-16.34 25.45-.63c0 .62.08 1.19.11 1.74a9 9 0 0 1-7.59 9.44l-6.6 1-11.43 1.79c-2.62-2.78 1.33-4 1.33-4"}),r.h("path",{className:"cls-4",d:"M36.65 330.62l-.23-15.75"}),r.h("path",{className:"cls-1",d:"M263.11 274.21c-.14-.81-.42-2.47-.69-4.45a10.29 10.29 0 0 1 6-10.81l6.08-1.49h1.36c4.57 0 7.72 1 9.37 3.05a5.47 5.47 0 0 1 1.21 3.86l-20.66 1.39a1.55 1.55 0 0 0 .11 3.1h.11l14.11-1.09c-1.51 1.23-5.75 3.64-17 6.44z"}),r.h("path",{className:"cls-7",d:"M275.87 257.94c4.31 0 7.41 1 8.95 2.84a5 5 0 0 1 1.14 3.1l-20.21 1.36a2.05 2.05 0 0 0 .14 4.1h.11l12.19-.93c-2.22 1.26-6.53 3.13-14.72 5.19-.15-.89-.37-2.29-.6-3.9a9.81 9.81 0 0 1 5.63-10.25l6-1.47h1.35m0-1h-1.49l-6.16 1.52a10.76 10.76 0 0 0-6.3 11.34c.4 2.84.79 5 .79 5 17.18-4.2 18.67-7.67 18.67-7.67L266 268.34h-.08a1.06 1.06 0 0 1-1.06-1 1 1 0 0 1 1-1.05l21.07-1.42s1.6-7.88-11-7.88z"}),r.h("path",{className:"cls-4",d:"M224.54 274.82c-2.26 1.24-12.83 6.05-12.83 6.05s-99.15-1.42-170.41 27.43"}),r.h("path",{className:"cls-6",d:"M387.14 274.71s19.94-57.34 20.22-59.87l21.77.28c0 1.68-9.47 58.39-9.47 58.39zm117.99-3.74l4.78-49.77 5.19.9-2.97 48.68-7 .19z"}),r.h("path",{className:"cls-4",d:"M503.22 208.62a158.58 158.58 0 0 1 32.23 5.51m-181.22 79.45c7-.57 26.73-2.46 26.73-2.46l.31.08c3.07.73 3.75 4.33 1.12 6l-.22.14-27.66.89a2.43 2.43 0 0 1-2.66-2.49 2.5 2.5 0 0 1 2.38-2.16z"}),r.h("path",{className:"cls-4",d:"M387.15 293.43c.23 3.54-8.22 7.5-18.93 7.7-11 .21-20.32-3.37-18.41-6.46 2.29-3.7 6.86-5.66 17.55-6.37s19.55 1.59 19.79 5.13z"}),r.h("path",{stroke:"#fff",fill:"none",strokeMiterlimit:"10",d:"M403.68 272.52l13.71-55.99"}),r.h("path",{className:"cls-4",d:"M506.93 287.64c7-.57 26.73-2.46 26.73-2.46l.31.08c3.07.74 3.75 4.33 1.12 6l-.22.14-27.65.89a2.42 2.42 0 0 1-2.66-2.49 2.49 2.49 0 0 1 2.37-2.16z"}),r.h("path",{className:"cls-4",d:"M539.85 287.49c.23 3.54-8.22 7.51-18.93 7.7-11 .21-20.32-3.37-18.41-6.46 2.29-3.7 6.86-5.66 17.55-6.37s19.55 1.64 19.79 5.13z"}),r.h("path",{className:"cls-7",d:"M515.52 224.1s41.14 8.13 51 18.27a5.94 5.94 0 0 1 1 6.67l-9.11 19.17 7.63-.42 7.64-17.18s1.65-16.76-58.16-26.51zM727 344.36c-1.34.16-3.26 1.22-5.31 5.08a106 106 0 0 0-9.75 29.69 10.24 10.24 0 0 0 8.86-5.13l2.15-3.75a23.83 23.83 0 0 0 3.17-11.88l1.06-2.55v-8.9l-.1-1.18.78-1.72a1.81 1.81 0 0 1-.86.34zm1.66-2.11l-.8 1.75a2 2 0 0 0 .8-1.75z"}))))},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);n(12);const o=n(10),a=n(7),s=n(5),i=n(1),c=.001,l=["🛑(🔇)","🌴(🏄🏄)","🌇(🔥🌞)","🌄(👩‍🎤🐟)","🌅(🎹⚡)","🌲(💀🎸)"];class u{constructor(t,e,n,r){this.min=t,this.emoji=e,this.emotion=n,this.plannedAction=r}}e.default=class extends r.Component{constructor(){super(...arguments),this.state={startX:-200,targetX:-200,t:0,stops:[],startStopButtonPressed:!1,audioIndexToPlay:-1},this.animationStep=0,this.isBMWDriving=!1,this.isAdvancing=!1}minutesToSVG(t){return t/60*i.TIMELINE_VIEWBOX_WIDTH}setMeta(t,e,n){const r=this.state.stops;let o=r.findIndex(e=>e.min===t);-1===o&&(o=r.push(new u(t,"📍"))-1),e&&(r[o].emotion=e),n&&(r[o].plannedAction=n),this.setState({stops:r,audioIndexToPlay:n})}componentDidMount(){window.addEventListener("keydown",t=>{switch(t.keyCode){case 32:this.state.startStopButtonPressed?this.advanceOneStep(this.animationStep):this.onStartButtonPressed()}}),this.animateMe(0)}advanceOneStep(t){t>5||this.isAdvancing||(this.isAdvancing=!0,setTimeout(()=>{this.moveTo(12*t)},0),t<5?(setTimeout(()=>{this.setMeta(12*t)},0),setTimeout(()=>{this.setMeta(12*t,Math.random(),t+1),this.animationStep++,this.isAdvancing=!1},2e3)):this.setState({audioIndexToPlay:9}))}moveTo(t){this.setState({startX:this.state.targetX,targetX:this.minutesToSVG(t),t:0}),this.isBMWDriving=!0}triggerInitialAnimation(){this.isAdvancing=!0,setTimeout(()=>{this.setState({stops:[new u(0,"🏡")]})},0),setTimeout(()=>{const t=this.state.stops;t.push(new u(60,"🏁")),this.setState({stops:t})},1e3),setTimeout(()=>{this.moveTo(0),this.isAdvancing=!1},2e3)}onStartButtonPressed(){this.setState({startStopButtonPressed:!0}),this.triggerInitialAnimation()}async animateMe(t){const e=await a.nextFrame(),n=e-t;if(this.isBMWDriving){let t=this.state.t+n*c;t>=1&&(t=1,this.isBMWDriving=!1),this.setState({t:t})}this.animateMe(e)}render({},{targetX:t,startX:e,t:n,stops:a,startStopButtonPressed:c,audioIndexToPlay:u}){const d=t-e,p=e+s.default.easeInOutCubic(n)*d,f=`M${-i.TIMELINE_PADDING_X} ${100+i.TIMELINE_BASELINE_Y_OFFSET} L${i.TIMELINE_VIEWBOX_WIDTH+i.TIMELINE_PADDING_X} ${100+i.TIMELINE_BASELINE_Y_OFFSET} Z`;return r.h("div",{class:"timeline"},!c&&r.h("img",{class:"starstopbutton",src:"./assets/startstopbutton.png",onClick:()=>this.onStartButtonPressed()}),c&&-1!==u&&r.h("audio",{autoplay:"true",src:`https://s3-eu-west-1.amazonaws.com/affective-computing/sounds/action_${u}.mp3`}),c&&r.h("svg",{class:"timeline-svg",viewBox:`${-i.TIMELINE_PADDING_X} 0 ${i.TIMELINE_VIEWBOX_WIDTH+2*i.TIMELINE_PADDING_X} ${i.TIMELINE_VIEWBOX_HEIGHT}`},r.h("path",{d:f,class:"svg-street"}),r.h("path",{d:f,class:"svg-street-dash"}),r.h(o.default,{x:p}),a.map(t=>{const e=this.minutesToSVG(t.min),n=Math.abs(p-e)<50,o=(n?56:73)+i.TIMELINE_BASELINE_Y_OFFSET;return r.h("g",null,r.h("text",{x:e,y:o,class:`timestop-top ${n?"grow":""}`},t.emoji),t.emotion&&r.h("text",{x:e,y:150+i.TIMELINE_BASELINE_Y_OFFSET,class:"timestop-bottom"},(t.emotion<.3333?"😕":t.emotion<.6666&&"😐")||"😊"),t.plannedAction&&r.h("text",{x:e,y:200+i.TIMELINE_BASELINE_Y_OFFSET,class:"timestop-bottom"},l[t.plannedAction]))})))}}},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};u.prototype.append=function(t,e){t=i(t),e=c(e);var n=this.map[t];this.map[t]=n?n+","+e:e},u.prototype.delete=function(t){delete this.map[i(t)]},u.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},u.prototype.set=function(t,e){this.map[i(t)]=c(e)},u.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];_.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=u,t.Request=y,t.Response=_,t.fetch=function(t,n){return new Promise(function(r,o){var a=new y(t,n),s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function(t){var e=new u;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;r(new _(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&e.blob&&(s.responseType="blob"),a.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})},t.fetch.polyfill=!0}function i(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t,e){var n=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=function(t){var e=t.toUpperCase();return a.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){n(14),t.exports=self.fetch.bind(self)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(15);const r=n(2),o={Accept:"application/json, text/plain, */*","Content-Type":"application/json"},a={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"};e.default=async function(t,e,n,s,i=!1,c={}){const l={method:t,headers:{...o,...i?a:{},...c},body:s?i?r.stringify(s):s instanceof Blob?s:JSON.stringify(s):void 0},u=await fetch(e,l);return n?u:u.json()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(16);e.get=async function(t,e,n=!1){return r.default("get",t,n,void 0,!1,e)},e.post=async function(t,e,n=!1,o,a=!1){return r.default("post",t,a,e,n,o)},e.del=async function(t,e,n=!1){return r.default("delete",t,n,void 0,!1,e)},e.put=async function(t,e,n=!1,o,a=!1){return r.default("put",t,a,e,n,o)}},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function a(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],a(n),a(r))}function s(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=a(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),i=0;i<a.length;i++){var c=a[i];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,n){"use strict";t.exports=(t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);n(21);const o=n(3),a="hiddenCanvas";e.default=class extends r.Component{async setupVideoRecorder(){try{const t=await navigator.mediaDevices.getUserMedia({video:!0});this.videoStream=new MediaStream(t),this.video=document.querySelector("video"),this.video.srcObject=this.videoStream,this.video.onloadedmetadata=(async()=>this.video.play())}catch(t){console.error(t)}}err(t){return console.error(`${t} not available`),!1}setupFrameUploader(){if(this.canvas=document.querySelector(`#${a}`),!this.canvas)return this.err("Canvas");this.ctx=this.canvas.getContext("2d");const t=setInterval(async()=>this.takePicture(),this.props.uploadFrameInterval);this.setState({uploadFrameTimer:t})}componentDidMount(){this.setupVideoRecorder(),this.setupFrameUploader()}async takePicture(){const{canvas:t,ctx:e,video:n}=this;if(!t)return this.err("Canvas");if(!e)return this.err("2DContext");if(!n)return this.err("Video");const{width:r,height:a}=this.props.imageDimensions;e.drawImage(n,0,0,r,a,0,0,r,a);const s=await this.getBlob(t);return s?(await o.default.putS3(`photos/${Date.now()}`,s),!0):this.err("Canvas Blob")}async getBlob(t){return new Promise(e=>t.toBlob(e))}render(t){const{width:e,height:n}=t.imageDimensions;return r.h("div",{class:t.class},r.h("video",{width:e,height:n}),r.h("canvas",{id:a,width:e,height:n}))}}},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);n(24);const o=n(22);e.default=class extends r.Component{render({uploadFrameInterval:t}){return r.h("div",{class:"cockpit"},r.h("img",{class:"overlap cockpit-image",src:"./assets/cockpit-mirror.png"}),r.h(o.default,{uploadFrameInterval:t,imageDimensions:{width:640,height:480},class:"overlap cockpit-video"}))}}},,function(t,e,n){},function(t,e,n){"use strict"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);n(28),n(27);const o=n(25),a=n(13),s=n(4),i=n(3);e.default=class extends r.Component{constructor(){super(...arguments),this.state={uploadFrameInterval:5e3,fetchActionsInterval:1e4,actionState:{music:0,step:0,route:0}}}componentDidMount(){setInterval(async()=>{const t=await i.default.getNextAction(this.state.actionState);console.log(`Next Action: ${JSON.stringify(t)}`)},this.state.fetchActionsInterval)}render({},{uploadFrameInterval:t}){return r.h("div",{class:"main-container"},r.h(o.default,{uploadFrameInterval:t}),r.h(a.default,null),r.h(s.default,null))}}},function(t,e,n){"use strict";t.exports=new Promise(t=>{"interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",()=>{t()},{capture:!0,once:!0,passive:!0})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(30),o=n(0),a=n(29);let s;(async()=>{await r;const t=document.querySelector("#container");if(!t)throw new Error("Container Element couldn't be found.");s=o.render(o.h(a.default,null),t,s),console.log("# Ready")})()}]);